{"version":3,"sources":["webpack:///webpack/bootstrap d5a08fdc61b045a6cd67","webpack:///./src/7gui.js","webpack:///./src/framework.js","webpack:///./~/eventemitter3/index.js"],"names":[],"mappings":"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ACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,iDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d5a08fdc61b045a6cd67\n **/","import {app, numberField, button, clicked} from \"./framework\";\n\napp(\"body\", () => {\n\tnumberField(\"counter\", 0);\n\tbutton(\"count\", \"Click me\");\n\n\tclicked(\"count\")\n\t\t.set(\"counter\", (input) => input + 1);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/7gui.js\n **/","import EE from \"eventemitter3\";\n\nlet emitter = new EE();\n\nlet controls = {}; // Necessary?\n\nconst typesMap = {\n\ttextField: {element: \"input\", default: \"\"},\n\tnumberField: {element: \"input\", attributes: {type: \"number\"}, default: 0},\n\tbutton: {element: \"button\"}\n};\n\nconst actions = {\n\ttarget: null,\n\n\tset: function(...args) {\n\t\t//console.info(\"Binding _set to: \", args);\n\t\tthis.target = function() {\n\t\t\tthis._set.apply(null, args);\n\t\t};\n\t},\n\n\t_set: function(id, val) {\n\t\t//console.info(\"Set impl called: \"+id+\" \", val);\n\t\tlet value = \"\";\n\t\tlet node = document.getElementById(id);\n\t\tif(val instanceof Function) {\n\t\t\t// TODO: make how value is passed in dependent on type of control (e.g. here it is parseInt which\n\t\t\t// corresponds to numberFields)\n\t\t\tvalue = val(parseInt(node.value));\n\t\t} else {\n\t\t\tvalue = val;\n\t\t}\n\t\tnode.value = value;\n\t}\n};\n\nfunction subscribe(id, eventType, fn) {\n\temitter.on(eventType, (controlId) => {\n\t\tif(id === controlId) {\n\t\t\tfn();\n\t\t}\n\t});\n}\n\nfunction makeControl(opts) {\n\tlet typeProps = typesMap[opts.type];\n\tlet input = document.createElement(typeProps.element);\n\tinput.id = opts.id;\n\tif(opts.type === \"button\") {\n\t\tinput.innerHTML = opts.value || \"\";\n\t} else {\n\t\t// TODO: type checking of opts.value\n\t\tinput.value = opts.value || typeProps.default;\n\t}\n\tfor(let attrKey in typeProps.attributes) {\n\t\tinput.attributes[attrKey] = typeProps.attributes[attrKey];\n\t}\n\tinput.onclick = function() { emitter.emit(\"clicked\", opts.id); };\n\n\tcontrols[opts.id] = input;\n\t//TODO: use lifecycle to specify where to mount to in the DOM\n\tdocument.querySelector(\"body\").appendChild(input);\n\treturn input;\n}\n\nexport function textField(id, value) {\n\treturn makeControl({type: \"textField\", id: id, value: value});\n}\n\nexport function numberField(id, value) {\n\treturn makeControl({type: \"numberField\", id: id, value: value});\n}\n\nexport function button(id, value) {\n\treturn makeControl({type: \"button\", id: id, value: value});\n}\n\nexport function clicked(id) {\n\tlet _actions = Object.create(actions);\n\tsubscribe(id, \"clicked\", () => {\n\t\t//console.info(id+\" clicked: \", _actions);\n\t\t_actions.target();\n\t});\n\treturn _actions;\n}\n\nexport function app(id, appdef) {\n\t//TODO: use something that fires when DOM loaded, x-browser\n\twindow.onload = () => {\n\t\tappdef();\n\t};\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/framework.js\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}